server {
    listen 8080;
    server_name localhost;
    root /app;
    index index.html;

    # Standard Element files
    location / {
        try_files $uri $uri/ /index.html;
    }

    # Serve Matrix well-known from Element domain
    location /.well-known/matrix/client {
        add_header Content-Type application/json;
        add_header Access-Control-Allow-Origin *;
        return 200 '{
  "m.homeserver": {
    "base_url": "https://MATRIX_DOMAIN_PLACEHOLDER/"
  },
  "m.identity_server": {
    "base_url": "https://vector.im"
  },
  "org.matrix.msc3266.rtc_focus": {
    "focus_uri": "https://call.MATRIX_DOMAIN_PLACEHOLDER"
  }
}';
    }
}